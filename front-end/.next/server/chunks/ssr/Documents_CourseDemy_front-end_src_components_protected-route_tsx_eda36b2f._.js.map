{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/hoangvietanh/Documents/CourseDemy/front-end/src/components/protected-route.tsx"],"sourcesContent":["\"use client\";\n\n// Phân quyền FE\nimport { useEffect, useState } from \"react\";\nimport { useRouter } from \"next/navigation\";\nimport { useAppDispatch, useAppSelector } from \"@/redux/hooks\";\n\ninterface ProtectedRouteProps {\n  allowedRoles: string[];\n  children: React.ReactNode;\n}\n\nexport default function ProtectedRoute({\n  allowedRoles,\n  children,\n}: ProtectedRouteProps) {\n  const router = useRouter();\n  const [role, setRole] = useState<string | null>(null);\n  const { user } = useAppSelector((state) => state.auth);\n\n  useEffect(() => {\n    const storedRole = user?.role;\n\n    if (!storedRole || !allowedRoles.includes(storedRole)) {\n      router.push(\"/login\"); // không có quyền thì về login\n    } else {\n      setRole(storedRole);\n    }\n  }, [allowedRoles, router]);\n\n  if (!role) return <p>Đang kiểm tra quyền...</p>;\n\n  return <>{children}</>;\n}\n"],"names":[],"mappings":";;;;;AAEA,gBAAgB;AAChB;AACA;AACA;AALA;;;;;AAYe,SAAS,eAAe,EACrC,YAAY,EACZ,QAAQ,EACY;IACpB,MAAM,SAAS,IAAA,0LAAS;IACxB,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,4PAAQ,EAAgB;IAChD,MAAM,EAAE,IAAI,EAAE,GAAG,IAAA,kLAAc,EAAC,CAAC,QAAU,MAAM,IAAI;IAErD,IAAA,6PAAS,EAAC;QACR,MAAM,aAAa,MAAM;QAEzB,IAAI,CAAC,cAAc,CAAC,aAAa,QAAQ,CAAC,aAAa;YACrD,OAAO,IAAI,CAAC,WAAW,8BAA8B;QACvD,OAAO;YACL,QAAQ;QACV;IACF,GAAG;QAAC;QAAc;KAAO;IAEzB,IAAI,CAAC,MAAM,qBAAO,yRAAC;kBAAE;;;;;;IAErB,qBAAO;kBAAG;;AACZ","debugId":null}}]
}