{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/hoangvietanh/Documents/CourseDemy/front-end/src/components/theme-provider.tsx"],"sourcesContent":["\"use client\";\n\nimport * as React from \"react\";\nimport { ThemeProvider as NextThemesProvider } from \"next-themes\";\n\nexport function ThemeProvider({\n  children,\n  ...props\n}: React.ComponentProps<typeof NextThemesProvider>) {\n  return <NextThemesProvider {...props}>{children}</NextThemesProvider>;\n}\n"],"names":[],"mappings":";;;;;AAGA;AAHA;;;AAKO,SAAS,cAAc,KAGoB;QAHpB,EAC5B,QAAQ,EACR,GAAG,OAC6C,GAHpB;IAI5B,qBAAO,wOAAC,+MAAkB;QAAE,GAAG,KAAK;kBAAG;;;;;;AACzC;KALgB","debugId":null}},
    {"offset": {"line": 34, "column": 0}, "map": {"version":3,"sources":["file:///Users/hoangvietanh/Documents/CourseDemy/front-end/src/api/axiosClient.ts"],"sourcesContent":["// src/api/axiosClient.ts\nimport axios from \"axios\";\n\nconst axiosClient = axios.create({\n  baseURL: process.env.NEXT_PUBLIC_API_URL,\n  withCredentials: true,\n});\n\n// Interceptor request\naxiosClient.interceptors.request.use(\n  (config) => {\n    // Gắn token nếu có\n    const token =\n      typeof window !== \"undefined\" ? localStorage.getItem(\"token\") : null;\n    if (token) {\n      config.headers.Authorization = `Bearer ${token}`;\n    }\n\n    // Nếu body là FormData => để axios tự set multipart/form-data\n    if (config.data instanceof FormData) {\n      // KHÔNG set Content-Type ở đây,\n      // để axios tự thêm boundary phù hợp\n    } else {\n      // Nếu không phải FormData => gửi JSON\n      config.headers[\"Content-Type\"] = \"application/json\";\n    }\n\n    return config;\n  },\n  (error) => Promise.reject(error)\n);\n\n// Interceptor response\naxiosClient.interceptors.response.use(\n  (response) => response,\n  (error) => {\n    const status = error.response?.status;\n    if (status === 401) {\n      console.warn(\"Unauthorized - Có thể token hết hạn\");\n    }\n    return Promise.reject(error);\n  }\n);\n\nexport default axiosClient;\n"],"names":[],"mappings":"AAAA,yBAAyB;;;;;AAId;AAHX;;AAEA,MAAM,cAAc,8LAAK,CAAC,MAAM,CAAC;IAC/B,OAAO;IACP,iBAAiB;AACnB;AAEA,sBAAsB;AACtB,YAAY,YAAY,CAAC,OAAO,CAAC,GAAG,CAClC,CAAC;IACC,mBAAmB;IACnB,MAAM,QACJ,uCAAgC,aAAa,OAAO,CAAC,WAAW;IAClE,IAAI,OAAO;QACT,OAAO,OAAO,CAAC,aAAa,GAAG,AAAC,UAAe,OAAN;IAC3C;IAEA,8DAA8D;IAC9D,IAAI,OAAO,IAAI,YAAY,UAAU;IACnC,gCAAgC;IAChC,oCAAoC;IACtC,OAAO;QACL,sCAAsC;QACtC,OAAO,OAAO,CAAC,eAAe,GAAG;IACnC;IAEA,OAAO;AACT,GACA,CAAC,QAAU,QAAQ,MAAM,CAAC;AAG5B,uBAAuB;AACvB,YAAY,YAAY,CAAC,QAAQ,CAAC,GAAG,CACnC,CAAC,WAAa,UACd,CAAC;QACgB;IAAf,MAAM,UAAS,kBAAA,MAAM,QAAQ,cAAd,sCAAA,gBAAgB,MAAM;IACrC,IAAI,WAAW,KAAK;QAClB,QAAQ,IAAI,CAAC;IACf;IACA,OAAO,QAAQ,MAAM,CAAC;AACxB;uCAGa","debugId":null}},
    {"offset": {"line": 80, "column": 0}, "map": {"version":3,"sources":["file:///Users/hoangvietanh/Documents/CourseDemy/front-end/src/hooks/useApi.ts"],"sourcesContent":["import axiosClient from \"@/api/axiosClient\";\n\nexport function useApi() {\n  async function get(url: string) {\n    const res = await axiosClient.get(url);\n    return res.data;\n  }\n\n  async function post(url: string, data?: any) {\n    const res = data\n      ? await axiosClient.post(url, data)\n      : await axiosClient.post(url);\n    return res.data;\n  }\n\n  async function put(url: string, data: any) {\n    const res = await axiosClient.put(url, data);\n    return res.data;\n  }\n\n  async function remove(url: string) {\n    const res = await axiosClient.delete(url);\n    return res.data;\n  }\n\n  return { get, post, put, remove };\n}\n"],"names":[],"mappings":";;;;AAAA;;AAEO,SAAS;IACd,eAAe,IAAI,GAAW;QAC5B,MAAM,MAAM,MAAM,kLAAW,CAAC,GAAG,CAAC;QAClC,OAAO,IAAI,IAAI;IACjB;IAEA,eAAe,KAAK,GAAW,EAAE,IAAU;QACzC,MAAM,MAAM,OACR,MAAM,kLAAW,CAAC,IAAI,CAAC,KAAK,QAC5B,MAAM,kLAAW,CAAC,IAAI,CAAC;QAC3B,OAAO,IAAI,IAAI;IACjB;IAEA,eAAe,IAAI,GAAW,EAAE,IAAS;QACvC,MAAM,MAAM,MAAM,kLAAW,CAAC,GAAG,CAAC,KAAK;QACvC,OAAO,IAAI,IAAI;IACjB;IAEA,eAAe,OAAO,GAAW;QAC/B,MAAM,MAAM,MAAM,kLAAW,CAAC,MAAM,CAAC;QACrC,OAAO,IAAI,IAAI;IACjB;IAEA,OAAO;QAAE;QAAK;QAAM;QAAK;IAAO;AAClC","debugId":null}},
    {"offset": {"line": 117, "column": 0}, "map": {"version":3,"sources":["file:///Users/hoangvietanh/Documents/CourseDemy/front-end/src/features/auth/authThunks.ts"],"sourcesContent":["import { createAsyncThunk } from \"@reduxjs/toolkit\";\nimport { useApi } from \"@/hooks/useApi\";\n\nconst { post } = useApi();\n\n// ---- LOGIN ----\nexport const loginUserThunk = createAsyncThunk(\n  \"auth/login\",\n  async (\n    credentials: { email: string; password: string },\n    { rejectWithValue }\n  ) => {\n    try {\n      const res = await fetch(`${process.env.NEXT_PUBLIC_API_URL}/login`, {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify(credentials),\n      });\n\n      if (!res.ok) {\n        const error = await res.json().catch(() => ({}));\n        return rejectWithValue(error.message || \"Sai tài khoản hoặc mật khẩu\");\n      }\n\n      const data = await res.json();\n      return data.token;\n    } catch (err: any) {\n      return rejectWithValue(err.message);\n    }\n  }\n);\n\n// ---- LOGOUT ----\nexport const logoutThunk = createAsyncThunk(\"auth/logout\", async () => {\n  localStorage.removeItem(\"token\");\n});\n"],"names":[],"mappings":";;;;;;AAaiC;AAbjC;AACA;;;AAEA,MAAM,EAAE,IAAI,EAAE,GAAG,IAAA,8KAAM;AAGhB,MAAM,iBAAiB,IAAA,6PAAgB,EAC5C,cACA,OACE;QACA,EAAE,eAAe,EAAE;IAEnB,IAAI;QACF,MAAM,MAAM,MAAM,MAAM,AAAC,GAAkC,kEAAA,WAAS;YAClE,QAAQ;YACR,SAAS;gBAAE,gBAAgB;YAAmB;YAC9C,MAAM,KAAK,SAAS,CAAC;QACvB;QAEA,IAAI,CAAC,IAAI,EAAE,EAAE;YACX,MAAM,QAAQ,MAAM,IAAI,IAAI,GAAG,KAAK,CAAC,IAAM,CAAC,CAAC,CAAC;YAC9C,OAAO,gBAAgB,MAAM,OAAO,IAAI;QAC1C;QAEA,MAAM,OAAO,MAAM,IAAI,IAAI;QAC3B,OAAO,KAAK,KAAK;IACnB,EAAE,OAAO,KAAU;QACjB,OAAO,gBAAgB,IAAI,OAAO;IACpC;AACF;AAIK,MAAM,cAAc,IAAA,6PAAgB,EAAC,eAAe;IACzD,aAAa,UAAU,CAAC;AAC1B","debugId":null}},
    {"offset": {"line": 159, "column": 0}, "map": {"version":3,"sources":["file:///Users/hoangvietanh/Documents/CourseDemy/front-end/src/features/auth/authSlice.ts"],"sourcesContent":["import { createSlice, PayloadAction } from \"@reduxjs/toolkit\";\nimport { loginUserThunk, logoutThunk } from \"./authThunks\";\nimport { jwtDecode } from \"jwt-decode\";\n\n// Interface định nghĩa user lấy từ payload token\nimport { User } from \"@/types/userType\";\n\n//  Interface định nghĩa cấu trúc state\ninterface AuthState {\n  token: string | null;\n  user: User | null;\n  loading: boolean;\n  error: string | null;\n}\n\n//  State khởi tạo\nconst initialState: AuthState = {\n  token: null,\n  user: null,\n  loading: false,\n  error: null,\n};\n\n//  Tạo Slice\nconst authSlice = createSlice({\n  name: \"auth\",\n  initialState,\n  reducers: {\n    clearError: (state) => {\n      state.error = null;\n    },\n    // Dùng khi reload trang (ReduxProvider khôi phục)\n    setCredentials: (\n      state,\n      action: PayloadAction<{ token: string; user: User }>\n    ) => {\n      state.token = action.payload.token;\n      state.user = action.payload.user;\n    },\n  },\n  extraReducers: (builder) => {\n    //  LOGIN\n    builder\n      .addCase(loginUserThunk.pending, (state) => {\n        state.loading = true;\n        state.error = null;\n      })\n      .addCase(\n        loginUserThunk.fulfilled,\n        (state, action: PayloadAction<string>) => {\n          state.loading = false;\n          state.token = action.payload;\n\n          try {\n            // Giải mã token lấy thông tin user\n            const decodedUser = jwtDecode<User>(action.payload);\n            state.user = decodedUser;\n\n            // Lưu localStorage\n            localStorage.setItem(\"token\", action.payload);\n            localStorage.setItem(\"user\", JSON.stringify(decodedUser));\n          } catch {\n            console.error(\"Token không hợp lệ\");\n          }\n        }\n      )\n      .addCase(loginUserThunk.rejected, (state, action) => {\n        state.loading = false;\n        state.error = action.error.message || \"Đăng nhập thất bại\";\n      });\n\n    //  LOGOUT\n    builder.addCase(logoutThunk.fulfilled, (state) => {\n      state.token = null;\n      state.user = null;\n      state.error = null;\n\n      localStorage.removeItem(\"token\");\n      localStorage.removeItem(\"user\");\n    });\n  },\n});\n\nexport const { clearError, setCredentials } = authSlice.actions;\nexport default authSlice.reducer;\n"],"names":[],"mappings":";;;;;;;;AAAA;AACA;AACA;;;;AAaA,kBAAkB;AAClB,MAAM,eAA0B;IAC9B,OAAO;IACP,MAAM;IACN,SAAS;IACT,OAAO;AACT;AAEA,aAAa;AACb,MAAM,YAAY,IAAA,wPAAW,EAAC;IAC5B,MAAM;IACN;IACA,UAAU;QACR,YAAY,CAAC;YACX,MAAM,KAAK,GAAG;QAChB;QACA,kDAAkD;QAClD,gBAAgB,CACd,OACA;YAEA,MAAM,KAAK,GAAG,OAAO,OAAO,CAAC,KAAK;YAClC,MAAM,IAAI,GAAG,OAAO,OAAO,CAAC,IAAI;QAClC;IACF;IACA,eAAe,CAAC;QACd,SAAS;QACT,QACG,OAAO,CAAC,qMAAc,CAAC,OAAO,EAAE,CAAC;YAChC,MAAM,OAAO,GAAG;YAChB,MAAM,KAAK,GAAG;QAChB,GACC,OAAO,CACN,qMAAc,CAAC,SAAS,EACxB,CAAC,OAAO;YACN,MAAM,OAAO,GAAG;YAChB,MAAM,KAAK,GAAG,OAAO,OAAO;YAE5B,IAAI;gBACF,mCAAmC;gBACnC,MAAM,cAAc,IAAA,iNAAS,EAAO,OAAO,OAAO;gBAClD,MAAM,IAAI,GAAG;gBAEb,mBAAmB;gBACnB,aAAa,OAAO,CAAC,SAAS,OAAO,OAAO;gBAC5C,aAAa,OAAO,CAAC,QAAQ,KAAK,SAAS,CAAC;YAC9C,EAAE,UAAM;gBACN,QAAQ,KAAK,CAAC;YAChB;QACF,GAED,OAAO,CAAC,qMAAc,CAAC,QAAQ,EAAE,CAAC,OAAO;YACxC,MAAM,OAAO,GAAG;YAChB,MAAM,KAAK,GAAG,OAAO,KAAK,CAAC,OAAO,IAAI;QACxC;QAEF,UAAU;QACV,QAAQ,OAAO,CAAC,kMAAW,CAAC,SAAS,EAAE,CAAC;YACtC,MAAM,KAAK,GAAG;YACd,MAAM,IAAI,GAAG;YACb,MAAM,KAAK,GAAG;YAEd,aAAa,UAAU,CAAC;YACxB,aAAa,UAAU,CAAC;QAC1B;IACF;AACF;AAEO,MAAM,EAAE,UAAU,EAAE,cAAc,EAAE,GAAG,UAAU,OAAO;uCAChD,UAAU,OAAO","debugId":null}},
    {"offset": {"line": 235, "column": 0}, "map": {"version":3,"sources":["file:///Users/hoangvietanh/Documents/CourseDemy/front-end/src/features/course/courseSlice.ts"],"sourcesContent":["import { createSlice, PayloadAction } from \"@reduxjs/toolkit\";\n\ninterface CourseState {\n  courseId: number | null;\n  courseTitle: string | \"\";\n}\n\nconst initialState: CourseState = {\n  courseId: null,\n  courseTitle: \"\",\n};\n\nconst courseSlice = createSlice({\n  name: \"course\",\n  initialState,\n  reducers: {\n    setCourse: (\n      state,\n      action: PayloadAction<{ courseId: number; courseTitle: string }>\n    ) => {\n      state.courseId = action.payload.courseId;\n      state.courseTitle = action.payload.courseTitle;\n      // Lưu vào localStorage\n      localStorage.setItem(\"course\", JSON.stringify(action.payload));\n    },\n    clearCourse: (state) => {\n      state.courseId = null;\n      state.courseTitle = \"\";\n      localStorage.removeItem(\"course\");\n    },\n  },\n});\n\nexport const { setCourse, clearCourse } = courseSlice.actions;\nexport default courseSlice.reducer;\n"],"names":[],"mappings":";;;;;;;;AAAA;;AAOA,MAAM,eAA4B;IAChC,UAAU;IACV,aAAa;AACf;AAEA,MAAM,cAAc,IAAA,wPAAW,EAAC;IAC9B,MAAM;IACN;IACA,UAAU;QACR,WAAW,CACT,OACA;YAEA,MAAM,QAAQ,GAAG,OAAO,OAAO,CAAC,QAAQ;YACxC,MAAM,WAAW,GAAG,OAAO,OAAO,CAAC,WAAW;YAC9C,uBAAuB;YACvB,aAAa,OAAO,CAAC,UAAU,KAAK,SAAS,CAAC,OAAO,OAAO;QAC9D;QACA,aAAa,CAAC;YACZ,MAAM,QAAQ,GAAG;YACjB,MAAM,WAAW,GAAG;YACpB,aAAa,UAAU,CAAC;QAC1B;IACF;AACF;AAEO,MAAM,EAAE,SAAS,EAAE,WAAW,EAAE,GAAG,YAAY,OAAO;uCAC9C,YAAY,OAAO","debugId":null}},
    {"offset": {"line": 275, "column": 0}, "map": {"version":3,"sources":["file:///Users/hoangvietanh/Documents/CourseDemy/front-end/src/redux/store.ts"],"sourcesContent":["// redux/store.ts\nimport { configureStore } from \"@reduxjs/toolkit\";\n\n// Import các slice\nimport authReducer from \"@/features/auth/authSlice\";\nimport courseReducer from \"@/features/course/courseSlice\";\n\nexport const store = configureStore({\n  reducer: {\n    auth: authReducer,\n    course: courseReducer,\n    cart: cartReducer,\n  },\n  devTools: true,\n});\n\n// Khai báo type cho TypeScript\nexport type RootState = ReturnType<typeof store.getState>;\nexport type AppDispatch = typeof store.dispatch;\n"],"names":[],"mappings":"AAAA,iBAAiB;;;;;AACjB;AAEA,mBAAmB;AACnB;AACA;;;;AAEO,MAAM,QAAQ,IAAA,2PAAc,EAAC;IAClC,SAAS;QACP,MAAM,6LAAW;QACjB,QAAQ,iMAAa;QACrB,MAAM;IACR;IACA,UAAU;AACZ","debugId":null}},
    {"offset": {"line": 302, "column": 0}, "map": {"version":3,"sources":["file:///Users/hoangvietanh/Documents/CourseDemy/front-end/src/redux/provider.tsx"],"sourcesContent":["\"use client\";\n\nimport { Provider } from \"react-redux\";\nimport { store } from \"./store\";\nimport { setCredentials } from \"@/features/auth/authSlice\";\nimport { useEffect } from \"react\";\nimport { useRouter, usePathname } from \"next/navigation\";\nimport { setCourse } from \"@/features/course/courseSlice\";\n\nexport function ReduxProvider({ children }: { children: React.ReactNode }) {\n  const router = useRouter();\n  const pathname = usePathname(); // Lấy đường dẫn hiện tại\n\n  useEffect(() => {\n    const token = localStorage.getItem(\"token\");\n    const user = localStorage.getItem(\"user\");\n\n    // Chỉ redirect nếu đang ở trang root hoặc login\n    const isAtRootOrLogin = pathname === \"/\" || pathname === \"/login\";\n\n    if (token && user) {\n      store.dispatch(setCredentials({ token, user: JSON.parse(user) }));\n\n      if (isAtRootOrLogin) {\n        router.push(\"/home\");\n      }\n    }\n  }, [pathname, router]);\n\n  // Set lại course redux khi load trang\n  useEffect(() => {\n    const courseData = localStorage.getItem(\"course\");\n    if (courseData) {\n      const parsed = JSON.parse(courseData);\n      store.dispatch(setCourse(parsed));\n    }\n  }, []);\n\n  return <Provider store={store}>{children}</Provider>;\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AACA;AACA;;;AAPA;;;;;;;AASO,SAAS,cAAc,KAA2C;QAA3C,EAAE,QAAQ,EAAiC,GAA3C;;IAC5B,MAAM,SAAS,IAAA,6LAAS;IACxB,MAAM,WAAW,IAAA,+LAAW,KAAI,yBAAyB;IAEzD,IAAA,qNAAS;mCAAC;YACR,MAAM,QAAQ,aAAa,OAAO,CAAC;YACnC,MAAM,OAAO,aAAa,OAAO,CAAC;YAElC,gDAAgD;YAChD,MAAM,kBAAkB,aAAa,OAAO,aAAa;YAEzD,IAAI,SAAS,MAAM;gBACjB,4KAAK,CAAC,QAAQ,CAAC,IAAA,oMAAc,EAAC;oBAAE;oBAAO,MAAM,KAAK,KAAK,CAAC;gBAAM;gBAE9D,IAAI,iBAAiB;oBACnB,OAAO,IAAI,CAAC;gBACd;YACF;QACF;kCAAG;QAAC;QAAU;KAAO;IAErB,sCAAsC;IACtC,IAAA,qNAAS;mCAAC;YACR,MAAM,aAAa,aAAa,OAAO,CAAC;YACxC,IAAI,YAAY;gBACd,MAAM,SAAS,KAAK,KAAK,CAAC;gBAC1B,4KAAK,CAAC,QAAQ,CAAC,IAAA,mMAAS,EAAC;YAC3B;QACF;kCAAG,EAAE;IAEL,qBAAO,wOAAC,mNAAQ;QAAC,OAAO,4KAAK;kBAAG;;;;;;AAClC;GA9BgB;;QACC,6LAAS;QACP,+LAAW;;;KAFd","debugId":null}}]
}